(this["webpackJsonpredux-essentials-example"]=this["webpackJsonpredux-essentials-example"]||[]).push([[0],{1190:function(e,t){},1192:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),s=n(49),o=n.n(s),i=(n(92),n(79)),c=n(10),d=n(11),u=function(){return Object(d.jsx)("nav",{children:Object(d.jsxs)("section",{children:[Object(d.jsx)("h1",{children:"Redux Essentials Example"}),Object(d.jsx)("div",{className:"navContent",children:Object(d.jsx)("div",{className:"navLinks"})})]})})};var p,l=function(){return Object(d.jsxs)(i.a,{children:[Object(d.jsx)(u,{}),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(c.d,{children:[Object(d.jsx)(c.b,{exact:!0,path:"/",render:function(){return Object(d.jsx)("section",{children:Object(d.jsx)("h2",{children:"Welcome to the Redux Essentials example app!"})})}}),Object(d.jsx)(c.a,{to:"/"})]})})]})},m=n(36),j=Object(m.a)({reducer:function(){return{}}}),f=n(85),b=n(17),O=n(34),h=n(86),y=n(48),g=n(28),v=n(84),S=n(25),x=n(30),w=n.n(x),N=n(59),I=n.n(N),k=n(82),A=n(83),q=n(66),M=["id"],D=2e3,E=I()(),F=localStorage.getItem("randomTimestampSeed");function J(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(E()*(t-e+1))+e}F?p=new Date(F):(F=(p=new Date).toISOString(),localStorage.setItem("randomTimestampSeed",F)),E=I()(F),Object(A.setRandom)(E),w.a.seed(p.getTime());for(var K,R=function(e){return e[J(0,e.length-1)]},T=Object(S.factory)({user:{id:Object(S.primaryKey)(m.b),firstName:String,lastName:String,name:String,username:String,posts:Object(S.manyOf)("post")},post:{id:Object(S.primaryKey)(m.b),title:String,date:String,content:String,reactions:Object(S.oneOf)("reaction"),comments:Object(S.manyOf)("comment"),user:Object(S.oneOf)("user")},comment:{id:Object(S.primaryKey)(String),date:String,text:String,post:Object(S.oneOf)("post")},reaction:{id:Object(S.primaryKey)(m.b),thumbsUp:Number,hooray:Number,heart:Number,rocket:Number,eyes:Number,post:Object(S.oneOf)("post")}}),U=function(){var e=w.a.name.firstName(),t=w.a.name.lastName();return{firstName:e,lastName:t,name:"".concat(e," ").concat(t),username:w.a.internet.userName()}},B=0;B<3;B++)for(var C=T.user.create(U()),L=0;L<3;L++){var W=(K=C,{title:w.a.lorem.words(),date:w.a.date.recent(7).toISOString(),user:K,content:w.a.lorem.paragraphs(),reactions:T.reaction.create()});T.post.create(W)}var z=function(e){return Object(y.a)(Object(y.a)({},e),{},{user:e.user.id})},G=[g.c.get("/fakeApi/posts",(function(e,t,n){var a=T.post.getAll().map(z);return t(n.delay(D),n.json(a))})),g.c.post("/fakeApi/posts",(function(e,t,n){var a=e.body;if("error"===a.content)return t(n.delay(D),n.status(500),n.json("Server error saving this post!"));a.date=(new Date).toISOString();var r=T.user.findFirst({where:{id:{equals:a.user}}});a.user=r,a.reactions=T.reaction.create();var s=T.post.create(a);return t(n.delay(D),n.json(z(s)))})),g.c.get("/fakeApi/posts/:postId",(function(e,t,n){var a=T.post.findFirst({where:{id:{equals:e.params.postId}}});return t(n.delay(D),n.json(z(a)))})),g.c.patch("/fakeApi/posts/:postId",(function(e,t,n){var a=e.body,r=(a.id,Object(h.a)(a,M)),s=T.post.update({where:{id:{equals:e.params.postId}},data:r});return t(n.delay(D),n.json(z(s)))})),g.c.get("/fakeApi/posts/:postId/comments",(function(e,t,n){var a=T.post.findFirst({where:{id:{equals:e.params.postId}}});return t(n.delay(D),n.json({comments:a.comments}))})),g.c.post("/fakeApi/posts/:postId/reactions",(function(e,t,n){var a=e.params.postId,r=e.body.reaction,s=T.post.findFirst({where:{id:{equals:a}}}),o=T.post.update({where:{id:{equals:a}},data:{reactions:Object(y.a)(Object(y.a)({},s.reactions),{},Object(O.a)({},r,s.reactions[r]+=1))}});return t(n.delay(D),n.json(z(o)))})),g.c.get("/fakeApi/notifications",(function(e,t,n){var a=X(void 0,J(1,5),T);return t(n.delay(D),n.json(a))})),g.c.get("/fakeApi/users",(function(e,t,n){return t(n.delay(D),n.json(T.user.getAll()))}))],H=v.a.apply(void 0,G),P=new k.Server("ws://localhost"),Q=function(e,t){!function(e,t){e.send(JSON.stringify(t))}(e,{type:"notifications",payload:X(t,J(1,5),T)})};P.on("connection",(function(e){e,e.on("message",(function(t){var n=JSON.parse(t);if("notifications"===n.type){var a=n.payload;Q(e,a)}}))}));var V=["poked you","says hi!","is glad we're friends","sent you a gift"];function X(e,t,n){var a,r=new Date;e?a=Object(q.a)(e):(a=new Date(r.valueOf())).setMinutes(a.getMinutes()-15);var s=Object(b.a)(Array(t)).map((function(){var e=R(n.user.getAll()),t=R(V);return{id:Object(m.b)(),date:w.a.date.between(a,r).toISOString(),message:t,user:e.id}}));return s}H.start({onUnhandledRequest:"bypass"}),o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(f.a,{store:j,children:Object(d.jsx)(l,{})})}),document.getElementById("root"))},92:function(e,t,n){}},[[1192,1,2]]]);
//# sourceMappingURL=main.56af98ca.chunk.js.map